<!DOCTYPE html>
{% load static %}

<html lang = "en">
    <head>
        <meta charset = "UTF-8">

        <meta http-equiv = "X-UA-Compatible" content = "IE=edge">

        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">

        <link rel = "icon" type = "image/x-icon" href = "{% static 'assets/icons/logo.png' %}">

        <link rel = "stylesheet" type = "text/css" href = "{% static 'css/core.css' %}">
            
        <link rel = "stylesheet" href = "https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css">

        <link rel = "stylesheet" href = "https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity = "sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin = "anonymous">

        <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">

        <title>Public | COTSEye</title>
    </head>

    <body>
        <nav>
            <div class = "navigation-bar">
                <i class = "bx bx-menu sidebar-open"></i>

                <span class = "logo navigation-logo"><a href = "{% url 'Public Home' %}">COTSEye</a></span>

                <div class = "menu">
                    <div class = "logo-toggle">
                        <span class = "logo"><a href = "#">COTSEye</a></span>
                        <i class = "bx bx-x sidebar-close"></i>
                    </div>

                    <ul class = "navigation-links">
                        <li><a href = "#">Locations</a></li>
                        <li><a href = "#">Intervention programs</a></li>
                        <li><a href = "#">Resources</a></li>
                    </ul>

                    <ul class = "navigation-sidemenu">
                        <li><a href = "{% url 'Contributor Signin' %}">Log in</a></li>
                    </ul>
                </div>

                <div class = "settings">
                    <div class = "public">
                        <div class = "dropdown">
                            <i id = "dropdown-select" class = "far fa-user" onclick = "dropdownReveal()"></i>

                            <div id = "dropdown-content" class = "dropdown-content">
                                <p>Menu</p>
                                <div class = "dropdown-divider"></div>
                                <a href = "{% url 'Public Announcement' %}"><i class = "fas fa-bell"></i>See announcements</a>
                                <div class = "dropdown-divider"></div>
                                <a href = "{% url 'Contributor Signin' %}"><i class = "fas fa-users"></i>Log in</a>
                                <div class = "dropdown-divider"></div>
                                <a href = "#" class = "dropdown-item dropdown-footer">About me</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div class = "container">
            {% block content %}
    
    
            {% endblock content %}
        </div>
    </body>

    <script>
        const body = document.querySelector("body"),
            nav = document.querySelector("nav"),
            sidebarOpen = document.querySelector(".sidebar-open"),
            siderbarClose = document.querySelector(".sidebar-close");
        
        sidebarOpen.addEventListener("click", () =>{
            nav.classList.add("active");
        });
    
        body.addEventListener("click", e =>{
            let clickedElement = e.target;
    
            if (!clickedElement.classList.contains("sidebar-open") && !clickedElement.classList.contains("menu")){
                nav.classList.remove("active");
            }
        });
    </script>

    <script>
        function dropdownReveal(){
            var click = document.getElementById("dropdown-content");

            if (click.style.display === "none"){
                click.style.display = "block";
            } else {
                click.style.display = "none";
            }
        }
    </script>
</html>