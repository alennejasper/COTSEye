{% extends "public/service/index/index.html" %}
{% load static %}

{% block content %}
    {% if intervention %}
        <div class = "w-full mt-[2rem]">

            <div class = "fixed inset-0 z-[-10] h-screen w-full">
                <img src = "/statics/assets/bg-2.jpg" class="h-full w-full object-cover top-[-5rem]">
            </div>


            <div class = "w-full flex justify-center flex-col bg-white rounded-xl p-4">
                <h1 class = "font-bold break-words text-xl min-[490px]:text-3xl text-center w-full my-[1.5rem]">{{intervention.title | default:'None available'}}</h1>
        
                <div class = "flex w-full flex-col min-[450px]:flex-row min-[450px]:justify-between my-2">
                    <p class = "flex items-center gap-2 text-[#003755]"><i class = "fa-solid fa-user"></i>{{intervention.hosting_agency | default:'None available'}}</p>
        
                    <p class = "flex items-center gap-2 text-[#003755]"><i class = "fa-solid fa-calendar-check"></i>{{intervention.intervention_date | date:'M. j, Y' | default:'None available'}}</p>
                </div>

                <div class = "w-full h-full flex justify-start flex-col items-start relative">
                    <img class = "h-[25rem] w-full object-cover" src = "{{intervention.intervention_photo.url}}" > 
                    
                    <div class = "w-full flex items-start absolute bg-black bg-opacity-70 text-white bottom-0 p-0 min-[490px]:p-4 h-[20%] flex-col justify-center">
                        <h1 class = "font-semibold text-lg min-[490px]:text-2xl">{{intervention.location | default:'None available'}}</h1>
                        
                        <p>{{intervention.caught_amount | default:'None available'}} COTS caught.</p>
                    </div>
                </div>

                <p class = "w-full break-words text-[#003755] my-[1.5rem] tracking-wide">{{intervention.details | default:'None available'}}</p>
        
                <div class = "w-full justify-end flex my-[2rem]">
                    <div class = "text-center buttons cursor-pointer w-[8rem] bg-[#003755] hover:bg-white hover:border-[#003755] border-2 p-2 rounded-full font-bold text-white hover:text-[#003755]">
                        <a class = "share-intervention" target = "blank">Share</a>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

    <script>
        {% if intervention %}
            const link = encodeURI("{{scheme}}://{{host}}{% url 'Public Service Intervention Read' intervention.id %}");
        
            const facebook = document.querySelector(".share-intervention");

            facebook.href = "https://www.facebook.com/share.php?u=" + link;
        {% endif %}
    </script>
{% endblock content %}