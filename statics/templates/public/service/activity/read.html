{% extends "public/service/index/index.html" %}
{% load static %}

{% block content %}
    <div class = "activityread-body">
        <!-- <div class = "activityread-section">
            <h1>ACTIVITY DETAILS</h1>
        </div> -->

        {% if activity %}
            <div class = "activityread">
                <div class = "activityread-header">
                    <div class = "header-context">
                        <i class = "fa-solid fa-user"></i>

                        <div class = "context-caption">
                            <p>{{activity.hosting_agency | default:'None available'}}</p>

                            <p>{{activity.location | default:'None available'}}</p>
                        </div>
                    </div>

                    <p>{{activity.activity_date | date:'m/d/Y' | default:'None available'}}</p>
                </div>

                <!-- <h1>{{activity.title | default:'None available'}}</h1> -->

                <div class = "activityread-gallery">
                    <img src = "{{activity.activity_photo.url}}">
                </div>

                <div class = "activityread-origin">
                    <!-- <h1>Activity Details</h1> -->

                    <div class = "origin-context">
                        <p>Activity date:</p>

                        <p>{{activity.activity_date | date:'m/d/Y' | default:'None available'}}</p>
                    </div>

                    <div class = "origin-context">
                        <p>Location:</p>

                        <p>{{activity.location | default:'None available'}}</p>
                    </div>

                    <div class = "origin-context">
                        <p>Infestation status:</p>
    
                        <p>{{activity.statustype | default:'None available'}}</p>
                    </div>

                    <div class = "origin-context">
                        <p>COTS collected:</p>
    
                        <p>{{activity.caught_amount | default:'0'}}</p>
                    </div>
    
                    <div class = "origin-context">
                        <p>Volunteer count:</p>
    
                        <p>{{activity.volunteer_amount | default:'0'}}</p>
                    </div>
                </div>

                <div class = "activityread-description">
                    <h1>Description:</h1>
    
                    <div class = "description-context">
                        <p>{{activity.details | default:'None available'}}</p>
                    </div>
                </div>

                <div class = "button">
                    <a class = "share-activity" target = "blank">Share</a>
                </div>
            </div>
        {% endif %}
    </div>

    <script>
        {% if activity %}
            const link = encodeURI("{{scheme}}://{{host}}{% url 'Public Service Activity Read' activity.id %}");

            const text = encodeURI("So excited to share the results of our recent Crown-of-Thorns Starfish management activity in one of our marine areas. The following participation and efforts made a significant impact! ðŸŒŸðŸ“¢");
    
            const facebook = document.querySelector(".share-activity");

            facebook.href = "https://www.facebook.com/share.php?u=" + link + "&quote=" + text;
        {% endif %}
    </script>
{% endblock content %}