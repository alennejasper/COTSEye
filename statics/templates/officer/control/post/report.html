<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        @media print {
            .print-button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div>
        <div class="container  mt-3">
            <button class="btn btn-primary print-button" onclick="printPage()">Print</button>
        </div>
    </div>
    <div>
        <h2 class="text-center mt-5 text-primary-emphasis">
            insert Logos and Repoprt Title Here (Header)
        </h2>
    </div>
    <div>
        <h2 class="text-center mt-5 text-primary-emphasis">
            Insert TITLE here
        </h2>
    </div>
    <div class="container mt-5">
        <table class="table table-bordered border-black">
            <thead>
                <tr>
                  <th class="text-center">Municipality</th>
                  <th class="text-center">Barangay</th>
                  <th class="text-center">Total No. of Valid Report Sightings</th>
                  <th class="text-center">Total No. of Cots Captured</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                    {% for data in results %}
                        <td class="text-center">{{data.municipality}}</td>
                        <td class="text-center">{{data.barangay}}</td>
                        <td class="text-center">{{data.capture_count}}</td>
                        <td class="text-center">{{data.caughtoverall_count}}</td>
                    {% endfor %}
                </tr>
              </tbody>
        </table>
    </div>
    <div class="text-center mt-5 mb-5">
        <h2 class="text-center text-info">
            Total No. of Caught COTS as of April
        </h2>
    </div>
    <div>
        <div id="status_chart"></div>
    </div>
    <script>
        function printPage() {
            window.print();
        }

    (function () {
        'use strict';

        var config = {
            colors: {
                headingColor: '#1E1E1E',
                axisColor: '#1E1E1E',
                borderColor: '#D9D9D973',
                primary: '#16DBCC',
                info: '#16DBCC'
            }
        };

        let cardColor, headingColor, axisColor, borderColor;

        cardColor = config.colors.primary;
        headingColor = config.colors.headingColor;
        axisColor = config.colors.axisColor;
        borderColor = config.colors.borderColor;
        // --------------------------------------------------------------------
        const status_chartEl = document.querySelector('#status_chart');

        if (typeof status_chartEl !== 'undefined' && status_chartEl !== null) {
            const status_chartOptions = {
                series: [
                    {
                        name: 'Sample Data',
                        data: [1,2,3,4,5]
                    }
                ],
                chart: {
                    height: 500,
                    width: 1000,
                    stacked: true,
                    type: 'bar',
                    toolbar: { show: false }
                },
                plotOptions: {
                    bar: {
                        horizontal: false,
                        columnWidth: '50%',
                        borderRadius: 7,
                        startingShape: 'rounded',
                        endingShape: 'rounded'
                    }
                },
                colors: [config.colors.primary, config.colors.info],
                dataLabels: {
                    enabled: true,
                    offsetX: 6,
                    style: {
                    fontSize: '10px',
                    fontWeight: '700',
                    colors: ['#fff'],
                    fontFamily: 'roboto'
                    },
                },
                legend: {
                    show: true,
                    horizontalAlign: 'left',
                    position: 'top',
                    markers: {
                        height: 8,
                        width: 8,
                        radius: 12,
                        offsetX: -3
                    },
                    labels: {
                        colors: axisColor
                    },
                    itemMargin: {
                        horizontal: 10
                    }
                },
                grid: {
                    borderColor: borderColor,
                    padding: {
                        top: 0,
                        bottom: -8,
                        left: 20,
                        right: 20
                    }
                },
                xaxis: {
                    categories: ["Data", "Data", "Data", "Data", "Data"],
                    labels: {
                        style: {
                            fontSize: '13px',
                            colors: axisColor,
                            lineHeight: '1.5',
                            fontFamily: 'roboto'
                        }
                    },
                    axisTicks: {
                        show: false
                    },
                    axisBorder: {
                        show: false
                    }
                },
                yaxis: {
                    labels: {
                        style: {
                            fontSize: '13px',
                            colors: axisColor
                        }
                    }
                },
                responsive: [
                ],
                states: {
                    hover: {
                        filter: {
                            type: 'none'
                        }
                    },
                    active: {
                        filter: {
                            type: 'none'
                        }
                    }
                }
            };

            const status_chart = new ApexCharts(status_chartEl, status_chartOptions);
            status_chart.render();
        }
    })();
    </script>
</body>
</html>