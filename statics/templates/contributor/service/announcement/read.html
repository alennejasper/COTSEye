{% extends "contributor/service/index/index.html" %}
{% load static %}


{% block content %}
<div class = "announcementread-body">
    <!-- <div class = "announcementread-section">
        <h1>ANNOUNCEMENT DETAILS</h1>
    </div> -->

    {% if announcement %}
        <div class = "announcementread">
            <div class = "announcementread-header">
                <div class = "header-context">
                    <img src = "{{announcement.user.profile_photo.url}}">

                    <div class = "context-caption">
                        <p>{{announcement.user | default:'None available'}}</p>

                        <p>{{announcement.location | default:'None available'}}</p>
                    </div>
                </div>

                <p>{{announcement.release_date | date:'m/d/Y' | default:'None available'}}</p>
            </div>

            <!-- <h1>{{announcement.title | default:'None available'}}</h1> -->

            <div class = "announcementread-gallery">
                <img src = "{{announcement.announcement_photo.url}}">
            </div>

            <div class = "announcementread-origin">
                <!-- <h1>Announcement Details</h1> -->

                <div class = "origin-context">
                    <p>Event date:</p>

                    <p>{{announcement.release_date | date:'m/d/Y' | default:'None available'}}</p>
                </div>

                <!-- <div class = "origin-context">
                    <p>Place:</p>

                    <p>{{announcement.place | default:'None available'}}</p>
                </div> -->

                <div class = "origin-context">
                    <p>Hosting agency:</p>

                    <p>{{announcement.hosting_agency | default:'None available'}}</p>
                </div>
            </div>

            <div class = "announcementread-description">
                <h1>Description:</h1>

                <div class = "description-context">
                    <p>{{announcement.context | default:'None available'}}</p>
                </div>
            </div>

            <div class = "button">
                <a class = "share-announcement" target = "blank">Share</a>
            </div>
        </div>
    {% endif %}

    <script>
        {% if announcement %}
            const link = encodeURI("{{scheme}}://{{host}}{% url 'Contributor Service Announcement Read' announcement.id %}");

            const facebook = document.querySelector(".share-announcement");

            facebook.href = "https://www.facebook.com/share.php?u=" + link;
        {% endif %}
    </script>
</div>
{% endblock content %}