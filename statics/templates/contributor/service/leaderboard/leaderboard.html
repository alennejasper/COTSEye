{% extends "contributor/service/index/index.html" %}
{% load static %}

{% block content %}
    {% if leaderboard|length >= 5 %}
        <div class = "leaderboard-body">
            <div class = "leaderboard-section">
                <h1>LEADERBOARDS</h1>
            </div>

            <div class = "leaderboard">
                <h2>TOP CONTRIBUTORS</h2>

                <div class = "top-three">
                    {% if leaderboard|length >= 1 %}
                        <div class = "rank-one">
                            <div class = "profile rank-one">
                                <img src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                            </div>
            
                            <p class = "name">{{leaderboard.0.user__account__username | default:'None available'}}</p>
            
                            <p class = "count"><i class = "fas fa-star"></i>{{leaderboard.0.post_count | default:'0'}}</p>
                        </div>
                    {% else %}
                    {% endif %}
                    
                    <div class = "second-row">
                        {% if leaderboard|length >= 2 %}
                            <div class = "rank-two">
                                <div class = "profile rank-two">
                                    <img src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                                </div>
            
                                <p class = "name">{{leaderboard.1.user__account__username}}</p>
            
                                <p class = "count"><i class = "fas fa-star"></i>{{leaderboard.1.post_count}}</p>
            
                                <div class = "box">
                                    <h2>2</h2>
                                </div>
                            </div>
                        {% else %}
                        {% endif %}
                        
                        <div class = "box">
                            <h2>1</h2>
                        </div>
            
                        {% if leaderboard|length >= 3 %}
                            <div class = "rank-three">
                                <div class = "profile rank-three">
                                    <img src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                                </div>
            
                                <p class = "name">{{leaderboard.2.user__account__username | default:'None available'}}</p>
            
                                <p class = "count"><i class = "fas fa-star"></i>{{leaderboard.2.post_count | default:'0'}}</p>
            
                                <div class = "box">
                                    <h2>3</h2>
                                </div>
                            </div>
                        {% else %}
                        {% endif %}
                    </div>
                </div>
            
                <div class = "third-row">
                    {% for entry in leaderboard|slice:"3:5" %}
                        <div class = "rank-fourandfive">
                            <div class = "profile">
                                <img src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                            </div>
            
                            <p class = "name">{{entry.user__account__username | default:'None available'}}</p>
            
                            <p class = "count"><i class = "fas fa-star"></i>{{entry.post_count | default:'0'}}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}
{% endblock content %}