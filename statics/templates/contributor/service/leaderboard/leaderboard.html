{% extends "contributor/service/index/index.html" %}
{% load static %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


{% block content %}
<div class = "leaderboard-body">
    <div class = "leaderboard-section">
        <h1>LEADERBOARDS</h1>
    </div>

    <div class = "leaderboard">
        <h2>TOP CONTRIBUTORS</h2>
    
        <div class = "top-3">
            {% if leaderboard|length >= 1 %}
                <div class = "rank-1">
                    <div class = "circle rank-1">
                        <img id = "profilePicture" src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                    </div>
    
                    <p class = "name">{{leaderboard.0.user__account__username | default:'None available'}}</p>
    
                    <p class = "count"><i class = "fas fa-star"></i>{{leaderboard.0.post_count | default:'0'}}</p>
                </div>
            {% else %}
            {% endif %}
            
            <div class = "second-row">
                {% if leaderboard|length >= 2 %}
                    <div class = "rank-2">
                        <div class = "circle rank-2">
                            <img id = "profilePicture" src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                        </div>
    
                        <p class = "name">{{leaderboard.1.user__account__username}}</p>
    
                        <p class = "count"><i class = "fas fa-star"></i>{{leaderboard.1.post_count}}</p>
    
                        <div class = "box-div">
                            <h2>2</h2>
                        </div>
                    </div>
                {% else %}
                {% endif %}
                
                <div class = "box-div">
                    <h2>1</h2>
                </div>
    
                {% if leaderboard|length >= 3 %}
                    <div class = "rank-3">
                        <div class = "circle rank-3">
                            <img id = "profilePicture" src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                        </div>
    
                        <p class = "name">{{leaderboard.2.user__account__username | default:'None available'}}</p>
    
                        <p class = "count"><i class = "fas fa-star"></i>{{leaderboard.2.post_count | default:'0'}}</p>
    
                        <div class = "box-div">
                            <h2>3</h2>
                        </div>
                    </div>
                {% else %}
                {% endif %}
            </div>
        </div>
       
        <div class = "third-row">
            {% for entry in leaderboard|slice:"3:5" %}
                <div class = "rank-4-5">
                    <div class = "circle">
                        <img id = "profilePicture" src = "{{user.user.profile_photo.url | default:''}}" class = "profile-picture">
                    </div>
    
                    <p class = "name">{{entry.user__account__username | default:'None available'}}</p>
    
                    <p class = "count"><i class = "fas fa-star"></i>{{entry.post_count | default:'0'}}</p>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock content %}